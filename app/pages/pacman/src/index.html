<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Expires" content="0"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Cache-control" content="no-cache"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"/>
    <style>
        .app {
            display: none;
        }
    </style>
    <link rel='shortcut icon' type='image/x-icon' href='./favicon.ico'>
    <link href='https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
    <title>Pacman</title>
    <link rel="stylesheet" href="./styles/mainPage.less"/>
    <link rel="stylesheet" href="./index.css"/>
</head>

<body class="font-sans">
<noscript>
    <style>
        body {
            background-color: #fff;
        }

        p {
            padding: 30px;
            margin-bottom: 0;
            text-align: center;
            font-size: 18px;
            line-height: 32px;
            font-weight: 500;
        }
    </style>
    <p>如果您的浏览器不支持 JavaScript，或者您已经禁用了 JavaScript，那么请启用 JavaScript
        以获得最佳浏览体验。感谢您的理解与支持。</p>
</noscript>
<div class="app h-full">
    <header class="bg-white h-[63px] px-5 flex items-center border-0 border-b border-solid border-b-[#7260af]">
        <a href="/" class="mr-5 font-900 text-2xl flex items-center justify-center">
            <img src="./images/logo.svg" class="h-[60px]" alt=""/></a>
    </header>
    <div class="root lg:flex lg:flex-wrap lg:gap-x-6 p-[20px] md:px-[40px] md:py-10 lg:min-h-[calc(100%-64px)] box-border">
        <div class="flex-shrink-0 upload-box w-full lg:w-[340px] xl:w-[380px] 2xl:w-[440px]">
            <h2 class="mt-0 mb-2 text-2xl font-bold">上传模型文件</h2>
            <div role="alert"
                 class="alert alert-info mb-4 box-border m-0 py-[8px] px-[12px] text-[rgba(0,0,0,.88)] text-[14px] leading-5 list-none relative break-words rounded-[8px] bg-[#f0e8f7] border border-solid border-[#8e82bd]"
                 data-show="true">
                <div class="alert-content min-w-0">
                    <div class="text-sm leading-5 text-gray-600 font-bold">
                        请将导出的模板文件<a class="text-red-900" target="_blank"
                                             href="/train/image">（点此处去训练和导出模型文件）</a>解压，然后上传以下三个文件：
                        <ul class="pl-6 py-2 list-decimal m-0">
                            <li>model.json</li>
                            <li>metadata.json</li>
                            <li>weights.bin</li>
                        </ul>
                        确保模型文件中包含​​【上、下、左、右】​这四个方向的示例，示例名分别为：上、下、左、右。感谢您的合作和理解。
                    </div>
                </div>
            </div>
            <div class="rounded-lg border border-dashed border-gray-900/25 mb-3" id="dragUpload">
                <label class="block text-center cursor-pointer px-1 py-4">
                    <svg class="text-gray-300 mx-auto" viewBox="0 0 1024 1024" width="50" height="50">
                        <path d="M153.6 902.656a32.256 32.256 0 0 1 0-64h716.8a32.256 32.256 0 0 1 0 64z m390.656-665.6v494.592a32.256 32.256 0 0 1-64 0V237.056L236.032 481.28a31.744 31.744 0 1 1-45.056-45.056l294.912-295.424a36.864 36.864 0 0 1 51.2 0l294.912 294.912a31.744 31.744 0 0 1-45.056 45.056z"
                              fill="currentColor"></path>
                    </svg>
                    <div class="mt-4 flex text-sm leading-6 text-gray-600 justify-center">
                        <div class="relative rounded-md bg-white font-semibold text-[#7260af] hover:text-[#8e82bd]">
                            点击上传文件
                        </div>
                        <div class="pl-1">或将文件拖放至此处</div>
                    </div>
                    <input id="uploadModel" multiple name="uploadModel" type="file" class="sr-only">
                </label>
            </div>
            <div id="files" class="mt-5 hidden">
                <h3 class="mt-0 mb-2 font-bold">已上传文件：</h3>
                <ul id="fileList" class="pl-0 list-none m-0"></ul>
            </div>
            <div class="my-5 flex" id="webcamBox">
                <div id="label-container" class="text-lg font-bold"></div>
                <div class="w-[224px] flex overflow-hidden ml-auto">
                    <div id="webcam"></div>
                </div>
            </div>
        </div>
        <div class="hidden flex-1 justify-center items-center text-4xl border border-solid border-gray-200 p-[20px]"
             id="uploadModelTip">在左侧上传模型文件后，我们将能够继续进行操作。谢谢您的合作。
        </div>
        <div id='overflow-mask' class='overflow-mask w-full h-[450px] lg:h-auto lg:flex-1 lg:min-w-[700px]'>
            <div id='backdrop' class='backdrop'></div>
            <div id='fps-display' class='fps-display'></div>
            <div id='preload-div' class='preload-div'></div>

            <div id='main-menu-container' class='main-menu-container py-[20px]'>
                <img id='logo' class='logo h-[80px] lg:h-[200px]' src='./images/pacman_logo.png' alt="logo">
                <button id='game-start' class='game-start'>PLAY</button>
            </div>

            <div class='header-buttons'>
                <button class="pause-button">
                    <i id='pause-button' class='material-icons'>pause</i>
                </button>
                <button class="sound-button">
                    <i id='sound-button' class='material-icons'></i>
                </button>
            </div>

            <div id='paused-text' class='paused-text'>PAUSED</div>

            <div id='game-ui' class='game-ui'>
                <div id='row-top' class='row top'>
                    <div class='column _25'>
                        <div class='one-up'>1UP</div>
                        <div id='points-display'></div>
                    </div>
                    <div class='column _50'>
                        <div>HIGH SCORE</div>
                        <div id='high-score-display'></div>
                    </div>
                </div>

                <div id='maze' class='maze'>
                    <img id='maze-img' class='maze-img' src='./images/maze_blue.svg' alt="maze">
                    <div id='maze-cover' class='maze-cover'></div>
                    <div id='dot-container' class="absolute inset-0"></div>
                    <p id='pacman' class='pacman'></p>
                    <p id='pacman-arrow' class='pacman'></p>
                    <p id='clyde' class='ghost'></p>
                    <p id='inky' class='ghost'></p>
                    <p id='pinky' class='ghost'></p>
                    <p id='blinky' class='ghost'></p>
                </div>

                <div id='bottom-row' class='row bottom'>
                    <div id='extra-lives' class='extra-lives'></div>
                    <div id='fruit-display' class='fruit-display'></div>
                </div>
            </div>
            <div id='left-cover' class='loading-cover left'></div>
            <div id='right-cover' class='loading-cover right'></div>
            <div id='loading-container' class='loading-container'>
                <div id='loading-pacman' class='loading-pacman'></div>
                <div id='loading-dot-mask' class='loading-dot-mask'></div>
                <div class='loading-dot _5'></div>
                <div class='loading-dot _10'></div>
                <div class='loading-dot _15'></div>
                <div class='loading-dot _20'></div>
                <div class='loading-dot _25'></div>
                <div class='loading-dot _30'></div>
                <div class='loading-dot _35'></div>
                <div class='loading-dot _40'></div>
                <div class='loading-dot _45'></div>
                <div class='loading-dot _50'></div>
                <div class='loading-dot _55'></div>
                <div class='loading-dot _60'></div>
                <div class='loading-dot _65'></div>
                <div class='loading-dot _70'></div>
                <div class='loading-dot _75'></div>
                <div class='loading-dot _80'></div>
                <div class='loading-dot _85'></div>
                <div class='loading-dot _90'></div>
                <div class='loading-dot _95'></div>
            </div>

            <div id='error-message' class='error-message'>
                <div class='header'>
                    <div>OOPS!</div>
                    <div class='error-pacman'></div>
                </div>
                <div class='body lg:px-[10vw]'>
                    We were unable to load the images/sounds needed to play the game.
                    <br>
                    <br>
                    This could be due to a poor connection, a strict network policy, or
                    by playing on an unsupported browser.
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.querySelector('.app').style.display = 'block';
</script>
<script type="module" src='./index.js'></script>
</body>
</html>
